<h1>分布式温控系统设计与实现</h1>

> (2016211310 f2)
>

<h2 id='0'>0 产品介绍</h2>

<h3 id='0.1'>0.1文档目的</h3>

1. 详细地描述分布式温控系统的设计及开发流程, 阐明分布式温控系统的明确用户需求; 提供了明确和详尽的产品范围，界定及系统功能描述

2. 为软件开发者提供了明确和详尽的产品范围，界定及系统功能描述，方便软件的开发、迭代以及更新。

3. 为下一步建模设计提供一个遵循的基准，为用户方和开发方验收测试等提供依据。



				HTML
				
					
				
				
						
				
			详细地描述分布式温控系统的设计及开发流程0.2文档范围 

​	围绕分布式温控系统展开，介绍了产品的用户群体、产品应当遵循的标准或规范、产品的功能性以及非功能性需求, 记录该系统的性能、功能以及运行方式，全面介绍软件架构，分析用户需求。



<h3 id='0.3'>0.3读者对象 </h3>

1. 软件开发设计方

2. 酒店管理使用方


<h3 id='0.4'>0.4参考文档</h3>

柴竹新, 漆德宁, 吴学伍. 分布式楼宇中央空调温控、计费综合系统[C]// 系统仿真技术及其应用学术交流会. 2000.

谭翠萍. 基于B/S的分布式空调系统的设计与运行分析[J]. 制造业自动化, 2012, 34(17):101-103.

李俊. 分布式温室控制系统研制[D]. 江苏大学, 2003.

肖丁, 修佳鹏. 软件工程模型与方法[M]. 北京邮电大学出版社, 2014.




<h2 id='1'>1 产品介绍</h2>

<h3 id='1.1'>1.1开发背景 </h3>

​	某快捷廉价酒店响应节能绿色环保理念，推行自助计费式中央温控系统，使得入住的客户可以根据要求设定温度和风速的调节，同时可以显示所需支付的金额。客户退房时酒店须出具空调使用的账单及详单。空调运行期间，空调管理员能够监控各房间空调的使用状态，需要的情况下可以生成格式统计报表。

<h3 id='1.2'>1.2 产品功能</h3>

1.入住的客户可以根据要求设定温度和风速的调节

2.系统可以显示所需支付的金额（对客户和管理者均可见）

3.客户退房时酒店须出具空调使用的账单及详单（历史记录）

4.空调运行期间，空调管理员能够监控各房间空调的使用状态

5.系统可以生成格式统计报表



<h2 id='2'>2 产品面向的用户群体</h2>

<h3 id='2.1'>2.1 用户特征</h3>

- 客户

  产品面向的客户是快捷廉价酒店负责人。希望尽可能低的成本获得较高性能的产品。以“廉价实用”为特色招牌，既吸引了客户，又保证了利润，同时也响应了绿色节能环保理念。

- 最终用户

  产品面向的最终客户是酒店入住宾客。希望在花费较低的情况下获得较高质量的服务。

<h3 id='2.2'>2.2 产品优势</h3>

- 客户
  1. 集中式管理，节能环保。作为一个快捷廉价酒店，为了能够在提供正常空调服务的前提下，降低能源消耗，获得旅客使用空调情况，如费用、消耗能源等，从而降低酒店成本，减少资源的浪费，达到节能环保的目的，采用一个分布式温控系统是一个很好的选择
  2. 详细多样化的统计功能。采用分布式温控系统可以集中控制空调的使用，同时能够获得酒店空调使用的各式统计报表，最终可以降低成本，增加利润。
- 最终用户
  1. 操作简单。能够自己设定温度，调节风速，并且还能显示所消耗的能量以及所需支付的金额，使得空调使用情况一览无遗
  2. 价格低廉。
  3. 实时响应。能实时显示所消耗的能量以及所需支付的金额，可以比较方便地查看房间空调状态。

<h2 id='3'>3 产品应当遵循的标准或规范</h2>

<h3 id='3.1'> 3.1 中央空调设计参考规范及标准 </h3>

| 标准编号   | 标准名称                                     |
| ---------- | -------------------------------------------- |
| GBJI19-87  | 《采暧通风及空气调节设计规范》               |
| GBJ114-88  | 《采暖通风及至气调节制图标准》               |
| GBJ116-87  | 《建筑设计防火现范》                         |
| GBJ0045-95 | 《高层民用建筑设计防火现他》                 |
| JGJ26-95   | 《民用建筑节能设计标准（采暖居住建筑部分）》 |

<h3 id='3.2'> 3.2 软件工程相关标准 </h3>

| 标准编号        | 标准名称                          | 实施日期  |
| --------------- | --------------------------------- | --------- |
| GB/T 9385-1988  | 《计算机软件需求说明编制指南》    | 1/2/1988  |
| GB/Z 18493-2001 | 《信息技术 软件生存周期过程指南》 | 6/1/2002  |
| GB 8566-1988    | 《计算机软件开发规范》            | 12/1/1988 |
| HB 6464-1990    | 《软件开发规范》                  | 2/1/1991  |
| HB 6465-1990    | 《软件文档编制规范》              | 2/1/1991  |
| HB 6468-1990    | 《软件需求分析阶段基本要求》      | 2/1/1991  |


<h2 id='4'>4 产品的功能性需求</h2>
<h3 id='4.1'>4.1 中央空调</h3>

###### 统计模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 统计功能         | 中央空调控具备**统计**功能，可以根据需要给出日报表、周报表和月报表；报表内容如下：房间号、开关机的次数、温控请求起止时间、温控请求的起止温度及风量大小 |
| 结算功能         | 系统中央空调部分具备**结算**功能：可根据中央空调对分控机的请求时长及   所消耗电量进行费用计算 |
| 提醒功能         | **提醒**功能。统计一段时间内（一天、一周）之内，每一台从控机所占中央空调的时间比例；对于高占比的从控机，提供一个提醒维护的清单 |



###### 控制模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 模式控制         | 中央空调是冷暖两用，根据季节进行模式调整。可调参数包括风速、模式、温度等。<br>a)   当设置为供暖时，供暖温度控制在25°C～30°C之间；<br>b)   当设置为制冷时，制冷温度控制在18°C～25°C之间；<br>智能模式。就是根据当前的温度和湿度对温度进行调节，达到当前季节下的最佳温度。<br>人工模式。根据控制面板上面的操作值来决定用户所需要的温度大小 |
| 调度功能         | 中央空调同时能处理多台分控机的请求，为此主机要有负载均衡的能力，当有多余从控机请求时需要排队等待，能够保证所有房间的请求都能进行温度调整。 |
| 开关控制         | 中央空调具备**开关**按钮，只可人工开启和关闭，中央空调正常开启后处于待机状态。<br>a)   中央空调开机后，无论哪一种工作模式，起始工作温度为25°C；<br>b)   当关闭后，不响应来自房间的任何温控请求；<br>c)   当有来自从控机的温控要求时，中央空调开始工作；<br>d)   当所有房间都没有温控要求时，中央空调的状态回到待机状态。 |



###### 管理模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 账户管理         | 提供身份验证、权限设置、用户注册等功能。                     |
| 实时监测         | 中央空调能够**实时监测**各房间的温度和状态，并要求实时刷新的频率能够进行配置，当用户退房时清除用户数据并重置。 |



###### 备份模块 

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 应急处理         | 当主控机发生**故障**时，从控机请求超时，此时 需要向用户发出故障报警，显示面板上出现“故障”字样，持续2分钟。 |
| 存储备份         | 信息**存储备份**。系统的运行日志，对用户操作、机器与环境状态变化的记录。 |



<h3 id='4.2'>4.2 房间空调</h3>
###### 控制模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 温控功能         | 总体原则响应中央控制系统的温控指令，配合中央系统系统完成对房间内空调的调节。如果从控机发出的请求和中央空调设置的冷暖控制状态发生矛盾时，以中央空调机的状态优先，否则中央空调机不予响应。 |
| 监测功能         | 房间目标温度达到后，从控机自动停止工作。<br>a)   房间温度随着环境温度开始变化，当房间温度超过目标温度1 °C时，重新启动；<br>b)   房间不考虑大小和管道的分布及大小问题 |



###### 显示模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| UI显示           | 从控机只能人工方式开闭，并通过控制面板设置目标温度，目标温度有上下限制。<br>a)   从控机开机后动态获取房间温度，并将目标温度和房间温度显示在控制面板上；<br>b)   从控机开机后与中央空调连接获取工作模式，并将工作模式显示在控制面板上；                      c)  从控机开机后与中央空调连接获取当前消费情况，并将当前消费情况显示在控制面板上 |
| 异常提示         | a) 无法进行温度调节的情况下告知用户;<br>b) 出现故障的情况下告知用户;<br>c) 用户使用功率超过规定数值后，提示用户节能使用。 |



###### 请求模块

| 功能名称、标识符 | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 在线支付         | 从控机界面提供**在线支付**，暂时使用支付宝平台，用户输入支付请求后，主控机生成费用报表和二维码并发送给从控机，用户扫描从控机二维码进行付费，付费成功后主控机清除该从控机各项统计数据并重置。 |
| 温度调节         | 控制面板的**温度调节**可以连续变化也可以断续变化：从控机具有一个温度传感器，实时监测房间的温度，并与从控机的目标设置温度进行对比，并向中央空调机发出温度调节请求。<br>a)   温度调节按钮连续两次或多次指令的时间间隔小于1s时，从控机只发送最后一次的指令参数；b)   如果温度调节按钮连续两次的时间间隔大于1s时，从控机将发送两次指令参数； |
| 状态发送         | 房间空调能够发送用户的各种需求，并每隔一段时间向中央空调发送房间空调状态 |



<h2 id='5'>5 产品的非功能性需求</h2>

<h3 id='5.1'>5.1 用户界面要求</h3>

1. 中央空调界面配置：

   | 人工控制 | 主控机拥有统一控制每个从控机温度、风速、加湿、除尘的功能，以用来定期对客房进行清理打扫工作； |
   | -------- | ------------------------------------------------------------ |
   | 自由控制 | 由从控机发来请求自主控制，每台从控机自由控制自己的各个功能； |
   | 智能控制 | 主控机根据从控机发来的环境报告进行优化智能控制，即配置到相应的最适温度，湿度等 |

   >    *当从控机发来控制温度等请求时，主控机自动将对该从控机的控制由智能改为自由。

2. 房间空调界面配置**：**

   | 登记入住选项                                 |
   | -------------------------------------------- |
   | 退房结账选项                                 |
   | 打开/关闭空调 开关                           |
   | 调节选项：温度，风速，模式，制冷制热…        |
   | 当前空调状态（开关，温度，风速…）            |
   | 当前消费额（总共需要支付的钱）               |
   | 当前消费速率（每秒/分钟/小时 多少钱）        |
   | 环保提醒，当用户超过某一功率提醒用户节制使用 |



<h3 id='5.2'>5.2 软硬件要求</h3>

| 需求名称     | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| 性能需求     | 从控机接收用户操作指令的响应时间应小于1s，整个操作完成最后时间应小于3s，系统的正确性为100%。 |
| 环境需求     | 硬件方面：开发在PC上进行，部署可在PC或嵌入式设备（额外）上。<br> 软件方面：详见“系统开发技术路线” |
| 安全保密需求 | 防止对本系统非授权的故意或者意外访问的处理能力，如软件权限，动态口令，数据库字段加密等。以及对可预见故障的预处理能力 |
|              |                                                              |



<h3 id='5.3'> 5.3 质量需求 </h3>

| 需求名称     | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| 可靠性需求   | 中央空调能同时处理来自各从控机的并发请求，不出现卡顿延迟现象。<br>系统需要能够连续运行，并且能快速部署。在系统出现故障时能够快速告知管理员，并提供应急服务，保证温控系统的正常工作。 |
| 可维护性需求 | 系统不仅有对基本需求变化的支持能力，当技术或业务变化时，考虑以尽量少的代价适应这种变化需求，如季节变化 |
|              |                                                              |



<h2 id='6'>6 其它需求 </h2>

尽最大程度上满足用户的环保理念以及经济效益，在应对不同季节的制冷制热需求基础上，响应节能环保的号召，实现节能的控制算法。